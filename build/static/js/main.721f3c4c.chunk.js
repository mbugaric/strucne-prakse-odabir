(this["webpackJsonpstrucne-prakse-odabir-firmi"]=this["webpackJsonpstrucne-prakse-odabir-firmi"]||[]).push([[0],[,,,,,,,,,,function(e,n,t){e.exports=t(23)},,,,,function(e,n,t){},function(e,n,t){},,function(e,n,t){},,,function(e,n,t){var r={"./2020/studenti.json":[24,4]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t.t(i,3)}))}i.keys=function(){return Object.keys(r)},i.id=21,e.exports=i},function(e,n,t){var r={"./2020/nastavnaBaza.json":[25,3]};function i(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],i=n[0];return t.e(n[1]).then((function(){return t.t(i,3)}))}i.keys=function(){return Object.keys(r)},i.id=22,e.exports=i},function(e,n,t){"use strict";t.r(n);var r=t(0),i=t.n(r),a=t(4),o=t.n(a),s=(t(15),t(16),t(1)),u=t.n(s),c=t(2),l=t(5),d=t(6),m=t(8),p=t(7),f=t(9),v=(t(18),t(19)),k=function(e){function n(e){var t;Object(l.a)(this,n),(t=Object(m.a)(this,Object(p.a)(n).call(this,e))).currentYear=void 0;var r=new Date;return t.currentYear=r.getFullYear(),t.state={students:[],companies:[]},t}return Object(f.a)(n,e),Object(d.a)(n,[{key:"loadStudentsData",value:function(){var e=Object(c.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(21)("./".concat(this.currentYear,"/studenti.json"));case 2:n=(n=(n=e.sent).studenti.map((function(e){return e.duljinaStudiranja=+e.duljinaStudiranja,e.prosjek=+e.prosjek,e}))).map((function(e){return e.tezinskiFaktor=e.prosjek,e.duljinaStudiranja>3&&(e.tezinskiFaktor=e.tezinskiFaktor-(e.duljinaStudiranja-3)/2),e})),this.setState({students:n});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadCompaniesData",value:function(){var e=Object(c.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(22)("./".concat(this.currentYear,"/nastavnaBaza.json"));case 2:n=e.sent,this.setState({companies:n.firme});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.loadStudentsData(),this.loadCompaniesData()}},{key:"executeDocx",value:function(e,n,t,r){var i=new DocxReader;i.Load("/templates/uputnica.docx",(function(){i.Replace("FIRMA_NAZIV",e),i.Replace("FIRMA_ADRESA",n),i.Replace("IME_STUDENTA",t),i.Replace("MATICNI_BROJ",r);i.docxtemplater.setData({Variable:"Change my var inside doc"});try{i.docxtemplater.render()}catch(s){var a={message:s.message,name:s.name,stack:s.stack,properties:s.properties};throw console.log(JSON.stringify({error:a})),s}i.SetName("Uputnica "+t+".docx");var o=i.Download();v.saveAs(o.out,t+" uputnica.docx")}))}},{key:"generateUputnice",value:function(){var e=this;this.state.students.filter((function(e){return e.prihvaceno})).map((function(n,t){var r=e.state.companies.find((function(e){return e.id===n.prihvacenaFirma})),i=""+(null===r||void 0===r?void 0:r.naziv),a=""+(null===r||void 0===r?void 0:r.sjediste),o=n.prezime+" "+n.ime,s=n.brIndeksa;e.executeDocx(i,a,o,s)})),this.state.students.filter((function(e){return e.prisilnoDodijeljeno})).map((function(n,t){var r=e.state.companies.find((function(e){return e.id===n.prisilnoDodijeljenoFirma})),i=""+(null===r||void 0===r?void 0:r.naziv),a=""+(null===r||void 0===r?void 0:r.sjediste),o=n.prezime+" "+n.ime,s=n.brIndeksa;e.executeDocx(i,a,o,s)}))}},{key:"render",value:function(){var e=this,n=this.state.students.filter((function(e){return!e.priznavanje&&!e.nasaoSam&&!e.prihvaceno}));return r.createElement("div",null,r.createElement("h1",null,"Stru\u010dne prakse - faza 3"),this.state.companies.map((function(t){return t.brojPraksi-e.state.students.filter((function(e){return e.prihvaceno&&e.prihvacenaFirma===t.id})).length-e.state.students.filter((function(e){return e.prisilnoDodijeljeno&&e.prisilnoDodijeljenoFirma===t.id})).length>0?r.createElement("div",{key:t.naziv,className:"company-main-container"},t.naziv," (",t.brojPraksi,") - ",r.createElement("i",null,t.email)," - slobodno jo\u0161 (",t.brojPraksi-e.state.students.filter((function(e){return e.prihvaceno&&e.prihvacenaFirma===t.id})).length-e.state.students.filter((function(e){return e.prisilnoDodijeljeno&&e.prisilnoDodijeljenoFirma===t.id})).length,") ",t.poslanMail?r.createElement("b",{style:{color:"green"}},"MAIL"):r.createElement("b",{style:{color:"rgba(0,0,0,0.1)"}},"MAIL"),n&&n.length&&r.createElement("div",{className:"company-inner-container"},n.filter((function(e){return e.odabir1===t.id||e.odabir2===t.id||e.odabir3===t.id})).filter((function(e){return!e.prihvaceno&&!e.priznavanje&&!e.nasaoSam&&!e.prisilnoDodijeljeno})).map((function(e){return e.odabir1===t.id?e.tezinskiFaktor=1.3*e.tezinskiFaktor:e.odabir2===t.id?e.tezinskiFaktor=1.2*e.tezinskiFaktor:e.odabir3===t.id&&(e.tezinskiFaktor=1.1*e.tezinskiFaktor),e.tezinskiFaktor=+e.tezinskiFaktor.toFixed(3),e})).sort((function(e,n){return n.tezinskiFaktor-e.tezinskiFaktor})).map((function(e,n){var i=r.createElement("span",null,n+1,". ",e.ime," ",e.prezime," ",r.createElement("b",null,e.prosjek)," ",e.odabir1===t.id?"(1)":null," ",e.odabir2===t.id?"(2)":null," ",e.odabir3===t.id?"(3)":null," email: ",r.createElement("i",null,e.email)," ");return r.createElement("div",{key:e.brIndeksa},e.forceRemoveOdabir1&&e.odabir1===t.id||e.forceRemoveOdabir2&&e.odabir2===t.id||e.forceRemoveOdabir3&&e.odabir3===t.id?r.createElement("del",null,i):i)})))):r.createElement("div",{className:"firmaDone"},t.naziv)})),r.createElement("br",null),r.createElement("h1",null,"Na\u0161li sami"),this.state.students.filter((function(e){return e.nasaoSam})).map((function(e,n){return r.createElement("div",{key:e.brIndeksa},n+1,". ",e.ime," ",e.prezime)})),r.createElement("h1",null,"Priznavanje"),this.state.students.filter((function(e){return e.priznavanje})).map((function(e,n){return r.createElement("div",{key:e.brIndeksa},n+1,". ",e.ime," ",e.prezime," ")})),r.createElement("h1",null,"Prihva\u0107eno"),this.state.students.filter((function(e){return e.prihvaceno})).map((function(n,t){return r.createElement("div",{key:n.brIndeksa},t+1,". ",n.ime," ",n.prezime," - ",e.state.companies.filter((function(e){return e.id===n.prihvacenaFirma})).map((function(e){return e.naziv})))})),r.createElement("h1",null,"Raspodijeljeno"),this.state.students.sort((function(e,n){return n.prosjek-e.prosjek})).filter((function(e){return e.prisilnoDodijeljeno})).map((function(n,t){return r.createElement("div",{key:n.brIndeksa},t+1,". ",n.ime," ",n.prezime," - ",n.email," - ",e.state.companies.filter((function(e){return e.id===n.prisilnoDodijeljenoFirma})).map((function(e){return e.naziv})))})),r.createElement("h1",null,"Neraspodijeljeno"),this.state.students.sort((function(e,n){return n.prosjek-e.prosjek})).filter((function(e){return!e.prihvaceno&&!e.priznavanje&&!e.nasaoSam&&!e.prisilnoDodijeljeno})).map((function(e,n){return r.createElement("div",{key:e.brIndeksa},n+1,". ",e.ime," ",e.prezime," (",e.prosjek,") ",0==e.odabir1&&0==e.odabir2&&0==e.odabir3&&r.createElement("b",null," FALI ANKETA !!!"))})),r.createElement("button",{onClick:function(){return e.generateUputnice()}},"Generiraj uputnice"))}}]),n}(r.Component);var h=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.721f3c4c.chunk.js.map